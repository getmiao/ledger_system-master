# 合同台账管理系统 - 收入分析功能

## 功能概述

本系统是一个合同台账管理系统，专注于合同执行情况的监控和分析。系统提供按时间维度（月度/季度/年度）分析合同收入和付款情况的功能。

## 主要功能

### 1. 合同台账总览
- **合同执行情况监控**：实时显示合同执行的关键指标
- **收付款情况**：展示累计收款和付款情况
- **合同数量统计**：显示活跃合同数量

### 2. 合同收入分析
- **时间维度分析**：支持按月、季度、年度进行收入分析
- **收入趋势图表**：可视化展示销售收入和净收入趋势
- **付款趋势图表**：展示采购付款趋势
- **详细数据表格**：提供具体的时间周期数据

### 3. 分析维度

#### 时间维度
- **月度分析**：按月分析合同收入和付款情况
- **季度分析**：按季度进行趋势分析
- **年度分析**：年度对比分析

#### 合同类型
- **销售合同**：分析销售收入和回款情况
- **采购合同**：分析采购付款情况
- **全部合同**：综合分析所有合同

### 4. 关键指标

#### 统计概览
- **总收入**：指定时间范围内的销售合同收入总额
- **总付款**：指定时间范围内的采购合同付款总额
- **净收入**：总收入减去总付款的净额
- **合同数量**：活跃合同数量统计

#### 趋势分析
- **收入增长率**：相比上期的收入增长百分比
- **付款增长率**：相比上期的付款增长百分比
- **净收入增长率**：相比上期的净收入变化百分比

### 5. 数据导出
- **分析报告导出**：导出完整的分析报告（Excel格式）
- **详细数据导出**：导出表格数据（Excel格式）

## 使用说明

### 访问分析页面
1. 在侧边栏菜单中点击"合同收入分析"
2. 选择时间维度（月度/季度/年度）
3. 设置时间范围
4. 选择合同类型（全部/销售/采购）
5. 查看分析结果

### 查看详细数据
- 在表格中查看具体的时间周期数据
- 点击"导出数据"按钮下载Excel文件

### 导出分析报告
- 点击页面右上角的"导出分析报告"按钮
- 系统将生成包含统计概览和详细数据的Excel报告

## 技术特点

### 前端技术
- **Vue 3**：使用Composition API构建响应式界面
- **Element Plus**：使用现代化的UI组件库
- **ECharts**：专业的图表可视化库
- **XLSX**：Excel文件导出功能

### 数据可视化
- **趋势图表**：使用折线图和柱状图展示数据趋势
- **统计卡片**：直观显示关键指标
- **响应式设计**：适配不同屏幕尺寸

### 用户体验
- **实时更新**：数据变化时图表自动更新
- **交互式筛选**：支持多维度数据筛选
- **导出功能**：支持多种格式的数据导出

## 系统架构

```
合同台账管理系统
├── 合同台账总览
│   ├── 合同执行情况
│   ├── 收付款情况
│   └── 关键指标统计
├── 合同收入分析
│   ├── 时间维度分析
│   ├── 趋势图表
│   ├── 详细数据表格
│   └── 数据导出功能
└── 合同详情页面
    ├── 合同基本信息
    ├── 财务分析
    └── 偏差分析
```

## 更新日志

### v1.0.0 (2025-07-12)
- ✅ 删除成本分析页面
- ✅ 新增合同收入分析功能
- ✅ 支持月度/季度/年度分析
- ✅ 添加收入趋势和付款趋势图表
- ✅ 实现数据导出功能
- ✅ 更新页面标题和菜单项
- ✅ 优化用户体验和界面设计

## 后续规划

### 功能增强
- [ ] 添加更多时间维度（周度、自定义时间段）
- [ ] 支持多维度筛选（按项目、按负责人等）
- [ ] 添加预警功能（收入异常提醒）
- [ ] 支持数据钻取（点击图表查看详情）

### 性能优化
- [ ] 大数据量时的分页加载
- [ ] 图表渲染性能优化
- [ ] 数据缓存机制

### 用户体验
- [ ] 添加数据加载动画
- [ ] 优化移动端适配
- [ ] 增加操作引导

---

**注意**：本系统专注于合同台账管理，不涉及复杂的财务计算，主要目的是帮助用户清晰了解合同执行情况和收付款状态。 